<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />	
	<title>OCL Graphics</title>
	<link rel="stylesheet" type="text/css" href="flickity-style.css">
	<link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
</head>

<body>

	<div class="main-carousel">
		
		<div class="carousel-cell card">
			<img src="https://www.american.edu/ocl/images/market-graphic.jpg" alt="The Market infographic"> 
		</div>
	
		<div class="carousel-cell card">
            <img src="https://www.american.edu/ocl/images/titleix-graphic.jpg" alt="Title IX infographic">  
		</div>

		<div class="carousel-cell card">
			<img src="https://www.american.edu/ocl/images/health-center-text-2.png" alt="Health Center text conversation">
		</div>		
		
		<div class="carousel-cell card">
			<img src="https://www.american.edu/ocl/images/DOS-graphic.jpg" alt="Dean of Students Office infographic">
		</div>
		
		<div class="carousel-cell card">
			<img src="https://www.american.edu/ocl/images/health-center-text-1.png" alt="Health Center text conversation">
		</div>
	</div>

	
	<script>
	
		var paused;
        
		$(document).mouseup(function(){
			//in case we need a universal mouseup
		});
			
		$(document).ready(function(){
			paused = false;
			$('img').each(function(){
				$(this).height(500);
			});
		});
		
		$('.main-carousel').flickity({
			cellAlign: 'center', 
			contain: true, 
			autoPlay: 1500, 
			wrapAround: true,
			prevNextButtons: false, 
			pauseAutoPlayOnHover: false,
			pageDots: false,		
			adaptiveHeight: false //maybe needed for when images resize		
		});	
		
		var $carousel = $('.main-carousel').flickity();

		$('img').click(function(e){				
			if(!paused){
				$('.main-carousel').flickity('pausePlayer');
				paused = true;
				resumeTimer = setTimeout(function(){				
					$('.main-carousel').flickity('playPlayer');	
					paused = false;
				}, 15000);				
			}else{
				clearTimeout(resumeTimer);
				resumeTimer = setTimeout(function(){				
					$('.main-carousel').flickity('playPlayer');		
					paused = false;
				}, 15000);			
			}			
		});
		
		$carousel.on( 'staticClick.flickity', function( event, pointer, cellElement, cellIndex ) {
			if ( typeof cellIndex == 'number' ) {
				$carousel.flickity( 'selectCell', cellIndex );
			}
		});
		
	</script>

</body>

</html>


